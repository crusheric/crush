"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "mongooseAdapter", {
    enumerable: true,
    get: function() {
        return mongooseAdapter;
    }
});
const _fs = /*#__PURE__*/ _interop_require_default(require("fs"));
const _mongoose = /*#__PURE__*/ _interop_require_default(require("mongoose"));
const _path = /*#__PURE__*/ _interop_require_default(require("path"));
const _database = require("payload/database");
const _connect = require("./connect");
const _create = require("./create");
const _createGlobal = require("./createGlobal");
const _createGlobalVersion = require("./createGlobalVersion");
const _createMigration = require("./createMigration");
const _createVersion = require("./createVersion");
const _deleteMany = require("./deleteMany");
const _deleteOne = require("./deleteOne");
const _deleteVersions = require("./deleteVersions");
const _destroy = require("./destroy");
const _find = require("./find");
const _findGlobal = require("./findGlobal");
const _findGlobalVersions = require("./findGlobalVersions");
const _findOne = require("./findOne");
const _findVersions = require("./findVersions");
const _init = require("./init");
const _migrateFresh = require("./migrateFresh");
const _queryDrafts = require("./queryDrafts");
const _beginTransaction = require("./transactions/beginTransaction");
const _commitTransaction = require("./transactions/commitTransaction");
const _rollbackTransaction = require("./transactions/rollbackTransaction");
const _updateGlobal = require("./updateGlobal");
const _updateGlobalVersion = require("./updateGlobalVersion");
const _updateOne = require("./updateOne");
const _updateVersion = require("./updateVersion");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function mongooseAdapter({ autoPluralization = true, connectOptions, disableIndexHints = false, migrationDir: migrationDirArg, transactionOptions = {}, url }) {
    function adapter({ payload }) {
        const migrationDir = findMigrationDir(migrationDirArg);
        _mongoose.default.set('strictQuery', false);
        return (0, _database.createDatabaseAdapter)({
            name: 'mongoose',
            // Mongoose-specific
            autoPluralization,
            collections: {},
            connectOptions: connectOptions || {},
            connection: undefined,
            disableIndexHints,
            globals: undefined,
            mongoMemoryServer: undefined,
            sessions: {},
            transactionOptions: transactionOptions === false ? undefined : transactionOptions,
            url,
            versions: {},
            // DatabaseAdapter
            beginTransaction: transactionOptions ? _beginTransaction.beginTransaction : undefined,
            commitTransaction: _commitTransaction.commitTransaction,
            connect: _connect.connect,
            create: _create.create,
            createGlobal: _createGlobal.createGlobal,
            createGlobalVersion: _createGlobalVersion.createGlobalVersion,
            createMigration: _createMigration.createMigration,
            createVersion: _createVersion.createVersion,
            defaultIDType: 'text',
            deleteMany: _deleteMany.deleteMany,
            deleteOne: _deleteOne.deleteOne,
            deleteVersions: _deleteVersions.deleteVersions,
            destroy: _destroy.destroy,
            find: _find.find,
            findGlobal: _findGlobal.findGlobal,
            findGlobalVersions: _findGlobalVersions.findGlobalVersions,
            findOne: _findOne.findOne,
            findVersions: _findVersions.findVersions,
            init: _init.init,
            migrateFresh: _migrateFresh.migrateFresh,
            migrationDir,
            payload,
            queryDrafts: _queryDrafts.queryDrafts,
            rollbackTransaction: _rollbackTransaction.rollbackTransaction,
            updateGlobal: _updateGlobal.updateGlobal,
            updateGlobalVersion: _updateGlobalVersion.updateGlobalVersion,
            updateOne: _updateOne.updateOne,
            updateVersion: _updateVersion.updateVersion
        });
    }
    return adapter;
}
/**
 * Attempt to find migrations directory.
 *
 * Checks for the following directories in order:
 * - `migrationDir` argument from Payload config
 * - `src/migrations`
 * - `dist/migrations`
 * - `migrations`
 *
 * Defaults to `src/migrations`
 *
 * @param migrationDir
 * @returns
 */ function findMigrationDir(migrationDir) {
    const cwd = process.cwd();
    const srcDir = _path.default.resolve(cwd, 'src/migrations');
    const distDir = _path.default.resolve(cwd, 'dist/migrations');
    const relativeMigrations = _path.default.resolve(cwd, 'migrations');
    // Use arg if provided
    if (migrationDir) return migrationDir;
    // Check other common locations
    if (_fs.default.existsSync(srcDir)) {
        return srcDir;
    }
    if (_fs.default.existsSync(distDir)) {
        return distDir;
    }
    if (_fs.default.existsSync(relativeMigrations)) {
        return relativeMigrations;
    }
    return srcDir;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFRyYW5zYWN0aW9uT3B0aW9ucyB9IGZyb20gJ21vbmdvZGInXG5pbXBvcnQgdHlwZSB7IENsaWVudFNlc3Npb24sIENvbm5lY3RPcHRpb25zLCBDb25uZWN0aW9uIH0gZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgdHlwZSB7IFBheWxvYWQgfSBmcm9tICdwYXlsb2FkJ1xuaW1wb3J0IHR5cGUgeyBCYXNlRGF0YWJhc2VBZGFwdGVyIH0gZnJvbSAncGF5bG9hZC9kYXRhYmFzZSdcblxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCB7IGNyZWF0ZURhdGFiYXNlQWRhcHRlciB9IGZyb20gJ3BheWxvYWQvZGF0YWJhc2UnXG5cbmltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbk1vZGVsLCBHbG9iYWxNb2RlbCB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICcuL2Nvbm5lY3QnXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICcuL2NyZWF0ZSdcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbCB9IGZyb20gJy4vY3JlYXRlR2xvYmFsJ1xuaW1wb3J0IHsgY3JlYXRlR2xvYmFsVmVyc2lvbiB9IGZyb20gJy4vY3JlYXRlR2xvYmFsVmVyc2lvbidcbmltcG9ydCB7IGNyZWF0ZU1pZ3JhdGlvbiB9IGZyb20gJy4vY3JlYXRlTWlncmF0aW9uJ1xuaW1wb3J0IHsgY3JlYXRlVmVyc2lvbiB9IGZyb20gJy4vY3JlYXRlVmVyc2lvbidcbmltcG9ydCB7IGRlbGV0ZU1hbnkgfSBmcm9tICcuL2RlbGV0ZU1hbnknXG5pbXBvcnQgeyBkZWxldGVPbmUgfSBmcm9tICcuL2RlbGV0ZU9uZSdcbmltcG9ydCB7IGRlbGV0ZVZlcnNpb25zIH0gZnJvbSAnLi9kZWxldGVWZXJzaW9ucydcbmltcG9ydCB7IGRlc3Ryb3kgfSBmcm9tICcuL2Rlc3Ryb3knXG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnLi9maW5kJ1xuaW1wb3J0IHsgZmluZEdsb2JhbCB9IGZyb20gJy4vZmluZEdsb2JhbCdcbmltcG9ydCB7IGZpbmRHbG9iYWxWZXJzaW9ucyB9IGZyb20gJy4vZmluZEdsb2JhbFZlcnNpb25zJ1xuaW1wb3J0IHsgZmluZE9uZSB9IGZyb20gJy4vZmluZE9uZSdcbmltcG9ydCB7IGZpbmRWZXJzaW9ucyB9IGZyb20gJy4vZmluZFZlcnNpb25zJ1xuaW1wb3J0IHsgaW5pdCB9IGZyb20gJy4vaW5pdCdcbmltcG9ydCB7IG1pZ3JhdGVGcmVzaCB9IGZyb20gJy4vbWlncmF0ZUZyZXNoJ1xuaW1wb3J0IHsgcXVlcnlEcmFmdHMgfSBmcm9tICcuL3F1ZXJ5RHJhZnRzJ1xuaW1wb3J0IHsgYmVnaW5UcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb25zL2JlZ2luVHJhbnNhY3Rpb24nXG5pbXBvcnQgeyBjb21taXRUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb25zL2NvbW1pdFRyYW5zYWN0aW9uJ1xuaW1wb3J0IHsgcm9sbGJhY2tUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb25zL3JvbGxiYWNrVHJhbnNhY3Rpb24nXG5pbXBvcnQgeyB1cGRhdGVHbG9iYWwgfSBmcm9tICcuL3VwZGF0ZUdsb2JhbCdcbmltcG9ydCB7IHVwZGF0ZUdsb2JhbFZlcnNpb24gfSBmcm9tICcuL3VwZGF0ZUdsb2JhbFZlcnNpb24nXG5pbXBvcnQgeyB1cGRhdGVPbmUgfSBmcm9tICcuL3VwZGF0ZU9uZSdcbmltcG9ydCB7IHVwZGF0ZVZlcnNpb24gfSBmcm9tICcuL3VwZGF0ZVZlcnNpb24nXG5cbmV4cG9ydCB0eXBlIHsgTWlncmF0ZURvd25BcmdzLCBNaWdyYXRlVXBBcmdzIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBBcmdzIHtcbiAgLyoqIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIGF1dG8tcGx1cmFsaXphdGlvbiBvZiBjb2xsZWN0aW9uIG5hbWVzLCBEZWZhdWx0cyB0byB0cnVlICovXG4gIGF1dG9QbHVyYWxpemF0aW9uPzogYm9vbGVhblxuICAvKiogRXh0cmEgY29uZmlndXJhdGlvbiBvcHRpb25zICovXG4gIGNvbm5lY3RPcHRpb25zPzogQ29ubmVjdE9wdGlvbnMgJiB7XG4gICAgLyoqIFNldCBmYWxzZSB0byBkaXNhYmxlICRmYWNldCBhZ2dyZWdhdGlvbiBpbiBub24tc3VwcG9ydGluZyBkYXRhYmFzZXMsIERlZmF1bHRzIHRvIHRydWUgKi9cbiAgICB1c2VGYWNldD86IGJvb2xlYW5cbiAgfVxuICAvKiogU2V0IHRvIHRydWUgdG8gZGlzYWJsZSBoaW50aW5nIHRvIE1vbmdvREIgdG8gdXNlICdpZCcgYXMgaW5kZXguIFRoaXMgaXMgY3VycmVudGx5IGRvbmUgd2hlbiBjb3VudGluZyBkb2N1bWVudHMgZm9yIHBhZ2luYXRpb24uIERpc2FibGluZyB0aGlzIG9wdGltaXphdGlvbiBtaWdodCBmaXggc29tZSBwcm9ibGVtcyB3aXRoIEFXUyBEb2N1bWVudERCLiBEZWZhdWx0cyB0byBmYWxzZSAqL1xuICBkaXNhYmxlSW5kZXhIaW50cz86IGJvb2xlYW5cbiAgbWlncmF0aW9uRGlyPzogc3RyaW5nXG4gIHRyYW5zYWN0aW9uT3B0aW9ucz86IFRyYW5zYWN0aW9uT3B0aW9ucyB8IGZhbHNlXG4gIC8qKiBUaGUgVVJMIHRvIGNvbm5lY3QgdG8gTW9uZ29EQiBvciBmYWxzZSB0byBzdGFydCBwYXlsb2FkIGFuZCBwcmV2ZW50IGNvbm5lY3RpbmcgKi9cbiAgdXJsOiBmYWxzZSB8IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBNb25nb29zZUFkYXB0ZXIgPSBCYXNlRGF0YWJhc2VBZGFwdGVyICZcbiAgQXJncyAmIHtcbiAgICBjb2xsZWN0aW9uczoge1xuICAgICAgW3NsdWc6IHN0cmluZ106IENvbGxlY3Rpb25Nb2RlbFxuICAgIH1cbiAgICBjb25uZWN0aW9uOiBDb25uZWN0aW9uXG4gICAgZ2xvYmFsczogR2xvYmFsTW9kZWxcbiAgICBtb25nb01lbW9yeVNlcnZlcjogYW55XG4gICAgc2Vzc2lvbnM6IFJlY29yZDxudW1iZXIgfCBzdHJpbmcsIENsaWVudFNlc3Npb24+XG4gICAgdmVyc2lvbnM6IHtcbiAgICAgIFtzbHVnOiBzdHJpbmddOiBDb2xsZWN0aW9uTW9kZWxcbiAgICB9XG4gIH1cblxudHlwZSBNb25nb29zZUFkYXB0ZXJSZXN1bHQgPSAoYXJnczogeyBwYXlsb2FkOiBQYXlsb2FkIH0pID0+IE1vbmdvb3NlQWRhcHRlclxuXG5kZWNsYXJlIG1vZHVsZSAncGF5bG9hZCcge1xuICBleHBvcnQgaW50ZXJmYWNlIERhdGFiYXNlQWRhcHRlclxuICAgIGV4dGVuZHMgT21pdDxCYXNlRGF0YWJhc2VBZGFwdGVyLCAnc2Vzc2lvbnMnPixcbiAgICAgIE9taXQ8QXJncywgJ21pZ3JhdGlvbkRpcic+IHtcbiAgICBjb2xsZWN0aW9uczoge1xuICAgICAgW3NsdWc6IHN0cmluZ106IENvbGxlY3Rpb25Nb2RlbFxuICAgIH1cbiAgICBjb25uZWN0aW9uOiBDb25uZWN0aW9uXG4gICAgZ2xvYmFsczogR2xvYmFsTW9kZWxcbiAgICBtb25nb01lbW9yeVNlcnZlcjogYW55XG4gICAgc2Vzc2lvbnM6IFJlY29yZDxudW1iZXIgfCBzdHJpbmcsIENsaWVudFNlc3Npb24+XG4gICAgdHJhbnNhY3Rpb25PcHRpb25zOiBUcmFuc2FjdGlvbk9wdGlvbnNcbiAgICB2ZXJzaW9uczoge1xuICAgICAgW3NsdWc6IHN0cmluZ106IENvbGxlY3Rpb25Nb2RlbFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9uZ29vc2VBZGFwdGVyKHtcbiAgYXV0b1BsdXJhbGl6YXRpb24gPSB0cnVlLFxuICBjb25uZWN0T3B0aW9ucyxcbiAgZGlzYWJsZUluZGV4SGludHMgPSBmYWxzZSxcbiAgbWlncmF0aW9uRGlyOiBtaWdyYXRpb25EaXJBcmcsXG4gIHRyYW5zYWN0aW9uT3B0aW9ucyA9IHt9LFxuICB1cmwsXG59OiBBcmdzKTogTW9uZ29vc2VBZGFwdGVyUmVzdWx0IHtcbiAgZnVuY3Rpb24gYWRhcHRlcih7IHBheWxvYWQgfTogeyBwYXlsb2FkOiBQYXlsb2FkIH0pIHtcbiAgICBjb25zdCBtaWdyYXRpb25EaXIgPSBmaW5kTWlncmF0aW9uRGlyKG1pZ3JhdGlvbkRpckFyZylcbiAgICBtb25nb29zZS5zZXQoJ3N0cmljdFF1ZXJ5JywgZmFsc2UpXG5cbiAgICByZXR1cm4gY3JlYXRlRGF0YWJhc2VBZGFwdGVyPE1vbmdvb3NlQWRhcHRlcj4oe1xuICAgICAgbmFtZTogJ21vbmdvb3NlJyxcblxuICAgICAgLy8gTW9uZ29vc2Utc3BlY2lmaWNcbiAgICAgIGF1dG9QbHVyYWxpemF0aW9uLFxuICAgICAgY29sbGVjdGlvbnM6IHt9LFxuICAgICAgY29ubmVjdE9wdGlvbnM6IGNvbm5lY3RPcHRpb25zIHx8IHt9LFxuICAgICAgY29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgZGlzYWJsZUluZGV4SGludHMsXG4gICAgICBnbG9iYWxzOiB1bmRlZmluZWQsXG4gICAgICBtb25nb01lbW9yeVNlcnZlcjogdW5kZWZpbmVkLFxuICAgICAgc2Vzc2lvbnM6IHt9LFxuICAgICAgdHJhbnNhY3Rpb25PcHRpb25zOiB0cmFuc2FjdGlvbk9wdGlvbnMgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogdHJhbnNhY3Rpb25PcHRpb25zLFxuICAgICAgdXJsLFxuICAgICAgdmVyc2lvbnM6IHt9LFxuXG4gICAgICAvLyBEYXRhYmFzZUFkYXB0ZXJcbiAgICAgIGJlZ2luVHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uT3B0aW9ucyA/IGJlZ2luVHJhbnNhY3Rpb24gOiB1bmRlZmluZWQsXG4gICAgICBjb21taXRUcmFuc2FjdGlvbixcbiAgICAgIGNvbm5lY3QsXG4gICAgICBjcmVhdGUsXG4gICAgICBjcmVhdGVHbG9iYWwsXG4gICAgICBjcmVhdGVHbG9iYWxWZXJzaW9uLFxuICAgICAgY3JlYXRlTWlncmF0aW9uLFxuICAgICAgY3JlYXRlVmVyc2lvbixcbiAgICAgIGRlZmF1bHRJRFR5cGU6ICd0ZXh0JyxcbiAgICAgIGRlbGV0ZU1hbnksXG4gICAgICBkZWxldGVPbmUsXG4gICAgICBkZWxldGVWZXJzaW9ucyxcbiAgICAgIGRlc3Ryb3ksXG4gICAgICBmaW5kLFxuICAgICAgZmluZEdsb2JhbCxcbiAgICAgIGZpbmRHbG9iYWxWZXJzaW9ucyxcbiAgICAgIGZpbmRPbmUsXG4gICAgICBmaW5kVmVyc2lvbnMsXG4gICAgICBpbml0LFxuICAgICAgbWlncmF0ZUZyZXNoLFxuICAgICAgbWlncmF0aW9uRGlyLFxuICAgICAgcGF5bG9hZCxcbiAgICAgIHF1ZXJ5RHJhZnRzLFxuICAgICAgcm9sbGJhY2tUcmFuc2FjdGlvbixcbiAgICAgIHVwZGF0ZUdsb2JhbCxcbiAgICAgIHVwZGF0ZUdsb2JhbFZlcnNpb24sXG4gICAgICB1cGRhdGVPbmUsXG4gICAgICB1cGRhdGVWZXJzaW9uLFxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gYWRhcHRlclxufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gZmluZCBtaWdyYXRpb25zIGRpcmVjdG9yeS5cbiAqXG4gKiBDaGVja3MgZm9yIHRoZSBmb2xsb3dpbmcgZGlyZWN0b3JpZXMgaW4gb3JkZXI6XG4gKiAtIGBtaWdyYXRpb25EaXJgIGFyZ3VtZW50IGZyb20gUGF5bG9hZCBjb25maWdcbiAqIC0gYHNyYy9taWdyYXRpb25zYFxuICogLSBgZGlzdC9taWdyYXRpb25zYFxuICogLSBgbWlncmF0aW9uc2BcbiAqXG4gKiBEZWZhdWx0cyB0byBgc3JjL21pZ3JhdGlvbnNgXG4gKlxuICogQHBhcmFtIG1pZ3JhdGlvbkRpclxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gZmluZE1pZ3JhdGlvbkRpcihtaWdyYXRpb25EaXI/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpXG4gIGNvbnN0IHNyY0RpciA9IHBhdGgucmVzb2x2ZShjd2QsICdzcmMvbWlncmF0aW9ucycpXG4gIGNvbnN0IGRpc3REaXIgPSBwYXRoLnJlc29sdmUoY3dkLCAnZGlzdC9taWdyYXRpb25zJylcbiAgY29uc3QgcmVsYXRpdmVNaWdyYXRpb25zID0gcGF0aC5yZXNvbHZlKGN3ZCwgJ21pZ3JhdGlvbnMnKVxuXG4gIC8vIFVzZSBhcmcgaWYgcHJvdmlkZWRcbiAgaWYgKG1pZ3JhdGlvbkRpcikgcmV0dXJuIG1pZ3JhdGlvbkRpclxuXG4gIC8vIENoZWNrIG90aGVyIGNvbW1vbiBsb2NhdGlvbnNcbiAgaWYgKGZzLmV4aXN0c1N5bmMoc3JjRGlyKSkge1xuICAgIHJldHVybiBzcmNEaXJcbiAgfVxuXG4gIGlmIChmcy5leGlzdHNTeW5jKGRpc3REaXIpKSB7XG4gICAgcmV0dXJuIGRpc3REaXJcbiAgfVxuXG4gIGlmIChmcy5leGlzdHNTeW5jKHJlbGF0aXZlTWlncmF0aW9ucykpIHtcbiAgICByZXR1cm4gcmVsYXRpdmVNaWdyYXRpb25zXG4gIH1cblxuICByZXR1cm4gc3JjRGlyXG59XG4iXSwibmFtZXMiOlsibW9uZ29vc2VBZGFwdGVyIiwiYXV0b1BsdXJhbGl6YXRpb24iLCJjb25uZWN0T3B0aW9ucyIsImRpc2FibGVJbmRleEhpbnRzIiwibWlncmF0aW9uRGlyIiwibWlncmF0aW9uRGlyQXJnIiwidHJhbnNhY3Rpb25PcHRpb25zIiwidXJsIiwiYWRhcHRlciIsInBheWxvYWQiLCJmaW5kTWlncmF0aW9uRGlyIiwibW9uZ29vc2UiLCJzZXQiLCJjcmVhdGVEYXRhYmFzZUFkYXB0ZXIiLCJuYW1lIiwiY29sbGVjdGlvbnMiLCJjb25uZWN0aW9uIiwidW5kZWZpbmVkIiwiZ2xvYmFscyIsIm1vbmdvTWVtb3J5U2VydmVyIiwic2Vzc2lvbnMiLCJ2ZXJzaW9ucyIsImJlZ2luVHJhbnNhY3Rpb24iLCJjb21taXRUcmFuc2FjdGlvbiIsImNvbm5lY3QiLCJjcmVhdGUiLCJjcmVhdGVHbG9iYWwiLCJjcmVhdGVHbG9iYWxWZXJzaW9uIiwiY3JlYXRlTWlncmF0aW9uIiwiY3JlYXRlVmVyc2lvbiIsImRlZmF1bHRJRFR5cGUiLCJkZWxldGVNYW55IiwiZGVsZXRlT25lIiwiZGVsZXRlVmVyc2lvbnMiLCJkZXN0cm95IiwiZmluZCIsImZpbmRHbG9iYWwiLCJmaW5kR2xvYmFsVmVyc2lvbnMiLCJmaW5kT25lIiwiZmluZFZlcnNpb25zIiwiaW5pdCIsIm1pZ3JhdGVGcmVzaCIsInF1ZXJ5RHJhZnRzIiwicm9sbGJhY2tUcmFuc2FjdGlvbiIsInVwZGF0ZUdsb2JhbCIsInVwZGF0ZUdsb2JhbFZlcnNpb24iLCJ1cGRhdGVPbmUiLCJ1cGRhdGVWZXJzaW9uIiwiY3dkIiwicHJvY2VzcyIsInNyY0RpciIsInBhdGgiLCJyZXNvbHZlIiwiZGlzdERpciIsInJlbGF0aXZlTWlncmF0aW9ucyIsImZzIiwiZXhpc3RzU3luYyJdLCJtYXBwaW5ncyI6Ijs7OzsrQkEwRmdCQTs7O2VBQUFBOzs7MkRBckZEO2lFQUNNOzZEQUNKOzBCQUNxQjt5QkFJZDt3QkFDRDs4QkFDTTtxQ0FDTztpQ0FDSjsrQkFDRjs0QkFDSDsyQkFDRDtnQ0FDSzt5QkFDUDtzQkFDSDs0QkFDTTtvQ0FDUTt5QkFDWDs4QkFDSztzQkFDUjs4QkFDUTs2QkFDRDtrQ0FDSzttQ0FDQztxQ0FDRTs4QkFDUDtxQ0FDTzsyQkFDVjsrQkFDSTs7Ozs7O0FBc0R2QixTQUFTQSxnQkFBZ0IsRUFDOUJDLG9CQUFvQixJQUFJLEVBQ3hCQyxjQUFjLEVBQ2RDLG9CQUFvQixLQUFLLEVBQ3pCQyxjQUFjQyxlQUFlLEVBQzdCQyxxQkFBcUIsQ0FBQyxDQUFDLEVBQ3ZCQyxHQUFHLEVBQ0U7SUFDTCxTQUFTQyxRQUFRLEVBQUVDLE9BQU8sRUFBd0I7UUFDaEQsTUFBTUwsZUFBZU0saUJBQWlCTDtRQUN0Q00saUJBQVEsQ0FBQ0MsR0FBRyxDQUFDLGVBQWU7UUFFNUIsT0FBT0MsSUFBQUEsK0JBQXFCLEVBQWtCO1lBQzVDQyxNQUFNO1lBRU4sb0JBQW9CO1lBQ3BCYjtZQUNBYyxhQUFhLENBQUM7WUFDZGIsZ0JBQWdCQSxrQkFBa0IsQ0FBQztZQUNuQ2MsWUFBWUM7WUFDWmQ7WUFDQWUsU0FBU0Q7WUFDVEUsbUJBQW1CRjtZQUNuQkcsVUFBVSxDQUFDO1lBQ1hkLG9CQUFvQkEsdUJBQXVCLFFBQVFXLFlBQVlYO1lBQy9EQztZQUNBYyxVQUFVLENBQUM7WUFFWCxrQkFBa0I7WUFDbEJDLGtCQUFrQmhCLHFCQUFxQmdCLGtDQUFnQixHQUFHTDtZQUMxRE0sbUJBQUFBLG9DQUFpQjtZQUNqQkMsU0FBQUEsZ0JBQU87WUFDUEMsUUFBQUEsY0FBTTtZQUNOQyxjQUFBQSwwQkFBWTtZQUNaQyxxQkFBQUEsd0NBQW1CO1lBQ25CQyxpQkFBQUEsZ0NBQWU7WUFDZkMsZUFBQUEsNEJBQWE7WUFDYkMsZUFBZTtZQUNmQyxZQUFBQSxzQkFBVTtZQUNWQyxXQUFBQSxvQkFBUztZQUNUQyxnQkFBQUEsOEJBQWM7WUFDZEMsU0FBQUEsZ0JBQU87WUFDUEMsTUFBQUEsVUFBSTtZQUNKQyxZQUFBQSxzQkFBVTtZQUNWQyxvQkFBQUEsc0NBQWtCO1lBQ2xCQyxTQUFBQSxnQkFBTztZQUNQQyxjQUFBQSwwQkFBWTtZQUNaQyxNQUFBQSxVQUFJO1lBQ0pDLGNBQUFBLDBCQUFZO1lBQ1pyQztZQUNBSztZQUNBaUMsYUFBQUEsd0JBQVc7WUFDWEMscUJBQUFBLHdDQUFtQjtZQUNuQkMsY0FBQUEsMEJBQVk7WUFDWkMscUJBQUFBLHdDQUFtQjtZQUNuQkMsV0FBQUEsb0JBQVM7WUFDVEMsZUFBQUEsNEJBQWE7UUFDZjtJQUNGO0lBRUEsT0FBT3ZDO0FBQ1Q7QUFFQTs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ0QsU0FBU0UsaUJBQWlCTixZQUFxQjtJQUM3QyxNQUFNNEMsTUFBTUMsUUFBUUQsR0FBRztJQUN2QixNQUFNRSxTQUFTQyxhQUFJLENBQUNDLE9BQU8sQ0FBQ0osS0FBSztJQUNqQyxNQUFNSyxVQUFVRixhQUFJLENBQUNDLE9BQU8sQ0FBQ0osS0FBSztJQUNsQyxNQUFNTSxxQkFBcUJILGFBQUksQ0FBQ0MsT0FBTyxDQUFDSixLQUFLO0lBRTdDLHNCQUFzQjtJQUN0QixJQUFJNUMsY0FBYyxPQUFPQTtJQUV6QiwrQkFBK0I7SUFDL0IsSUFBSW1ELFdBQUUsQ0FBQ0MsVUFBVSxDQUFDTixTQUFTO1FBQ3pCLE9BQU9BO0lBQ1Q7SUFFQSxJQUFJSyxXQUFFLENBQUNDLFVBQVUsQ0FBQ0gsVUFBVTtRQUMxQixPQUFPQTtJQUNUO0lBRUEsSUFBSUUsV0FBRSxDQUFDQyxVQUFVLENBQUNGLHFCQUFxQjtRQUNyQyxPQUFPQTtJQUNUO0lBRUEsT0FBT0o7QUFDVCJ9