"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "LinkHTMLConverter", {
    enumerable: true,
    get: function() {
        return LinkHTMLConverter;
    }
});
const _replaceDoubleCurlys = require("../../replaceDoubleCurlys");
const _serializeLexical = require("../serializeLexical");
const LinkHTMLConverter = {
    async converter ({ converters, node, parent, submissionData }) {
        const childrenText = await (0, _serializeLexical.convertLexicalNodesToHTML)({
            converters,
            lexicalNodes: node.children,
            parent: {
                ...node,
                parent
            },
            submissionData
        });
        const rel = node.fields.newTab ? ' rel="noopener noreferrer"' : '';
        let href = node.fields.linkType === 'custom' ? node.fields.url : node.fields.doc?.value?.id;
        if (submissionData) {
            href = (0, _replaceDoubleCurlys.replaceDoubleCurlys)(href, submissionData);
        }
        return `<a href="${href}"${rel}>${childrenText}</a>`;
    },
    nodeTypes: [
        'link'
    ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy91dGlsaXRpZXMvbGV4aWNhbC9jb252ZXJ0ZXJzL2xpbmsudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIVE1MQ29udmVydGVyIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB7IHJlcGxhY2VEb3VibGVDdXJseXMgfSBmcm9tICcuLi8uLi9yZXBsYWNlRG91YmxlQ3VybHlzJ1xuaW1wb3J0IHsgY29udmVydExleGljYWxOb2Rlc1RvSFRNTCB9IGZyb20gJy4uL3NlcmlhbGl6ZUxleGljYWwnXG5cbmV4cG9ydCBjb25zdCBMaW5rSFRNTENvbnZlcnRlcjogSFRNTENvbnZlcnRlcjxhbnk+ID0ge1xuICBhc3luYyBjb252ZXJ0ZXIoeyBjb252ZXJ0ZXJzLCBub2RlLCBwYXJlbnQsIHN1Ym1pc3Npb25EYXRhIH0pIHtcbiAgICBjb25zdCBjaGlsZHJlblRleHQgPSBhd2FpdCBjb252ZXJ0TGV4aWNhbE5vZGVzVG9IVE1MKHtcbiAgICAgIGNvbnZlcnRlcnMsXG4gICAgICBsZXhpY2FsTm9kZXM6IG5vZGUuY2hpbGRyZW4sXG4gICAgICBwYXJlbnQ6IHtcbiAgICAgICAgLi4ubm9kZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgfSxcbiAgICAgIHN1Ym1pc3Npb25EYXRhLFxuICAgIH0pXG5cbiAgICBjb25zdCByZWw6IHN0cmluZyA9IG5vZGUuZmllbGRzLm5ld1RhYiA/ICcgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiJyA6ICcnXG5cbiAgICBsZXQgaHJlZjogc3RyaW5nID1cbiAgICAgIG5vZGUuZmllbGRzLmxpbmtUeXBlID09PSAnY3VzdG9tJyA/IG5vZGUuZmllbGRzLnVybCA6IG5vZGUuZmllbGRzLmRvYz8udmFsdWU/LmlkXG5cbiAgICBpZiAoc3VibWlzc2lvbkRhdGEpIHtcbiAgICAgIGhyZWYgPSByZXBsYWNlRG91YmxlQ3VybHlzKGhyZWYsIHN1Ym1pc3Npb25EYXRhKVxuICAgIH1cblxuICAgIHJldHVybiBgPGEgaHJlZj1cIiR7aHJlZn1cIiR7cmVsfT4ke2NoaWxkcmVuVGV4dH08L2E+YFxuICB9LFxuICBub2RlVHlwZXM6IFsnbGluayddLFxufVxuIl0sIm5hbWVzIjpbIkxpbmtIVE1MQ29udmVydGVyIiwiY29udmVydGVyIiwiY29udmVydGVycyIsIm5vZGUiLCJwYXJlbnQiLCJzdWJtaXNzaW9uRGF0YSIsImNoaWxkcmVuVGV4dCIsImNvbnZlcnRMZXhpY2FsTm9kZXNUb0hUTUwiLCJsZXhpY2FsTm9kZXMiLCJjaGlsZHJlbiIsInJlbCIsImZpZWxkcyIsIm5ld1RhYiIsImhyZWYiLCJsaW5rVHlwZSIsInVybCIsImRvYyIsInZhbHVlIiwiaWQiLCJyZXBsYWNlRG91YmxlQ3VybHlzIiwibm9kZVR5cGVzIl0sIm1hcHBpbmdzIjoiOzs7OytCQUthQTs7O2VBQUFBOzs7cUNBSHVCO2tDQUNNO0FBRW5DLE1BQU1BLG9CQUF3QztJQUNuRCxNQUFNQyxXQUFVLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLGNBQWMsRUFBRTtRQUMxRCxNQUFNQyxlQUFlLE1BQU1DLElBQUFBLDJDQUF5QixFQUFDO1lBQ25ETDtZQUNBTSxjQUFjTCxLQUFLTSxRQUFRO1lBQzNCTCxRQUFRO2dCQUNOLEdBQUdELElBQUk7Z0JBQ1BDO1lBQ0Y7WUFDQUM7UUFDRjtRQUVBLE1BQU1LLE1BQWNQLEtBQUtRLE1BQU0sQ0FBQ0MsTUFBTSxHQUFHLCtCQUErQjtRQUV4RSxJQUFJQyxPQUNGVixLQUFLUSxNQUFNLENBQUNHLFFBQVEsS0FBSyxXQUFXWCxLQUFLUSxNQUFNLENBQUNJLEdBQUcsR0FBR1osS0FBS1EsTUFBTSxDQUFDSyxHQUFHLEVBQUVDLE9BQU9DO1FBRWhGLElBQUliLGdCQUFnQjtZQUNsQlEsT0FBT00sSUFBQUEsd0NBQW1CLEVBQUNOLE1BQU1SO1FBQ25DO1FBRUEsT0FBTyxDQUFDLFNBQVMsRUFBRVEsS0FBSyxDQUFDLEVBQUVILElBQUksQ0FBQyxFQUFFSixhQUFhLElBQUksQ0FBQztJQUN0RDtJQUNBYyxXQUFXO1FBQUM7S0FBTztBQUNyQiJ9